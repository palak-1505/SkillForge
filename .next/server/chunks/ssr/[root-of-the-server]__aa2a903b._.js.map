{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///Users/harshitgangwar/Desktop/SkillForge/actions/resume.js"],"sourcesContent":["\"use server\";\n\nimport { db } from \"@/lib/prisma\";\nimport { auth } from \"@clerk/nextjs/server\";\nimport { GoogleGenAI } from \"@google/genai\";\n\nimport { revalidatePath } from \"next/cache\";\nconst genAI = new GoogleGenAI({ apiKey: process.env.GEMINI_API_KEY });\n\nexport async function saveResume(content) {\n  const { userId } = await auth();\n  if (!userId) throw new Error(\"Unauthorized\");\n\n  const user = await db.user.findUnique({\n    where: { clerkUserId: userId },\n  });\n\n  if (!user) throw new Error(\"User not found\");\n\n  try {\n    const result = await genAI.models.generateContent({\n      model: \"gemini-2.0-flash\",\n      contents: prompt,\n    });\n    const resume = await db.resume.upsert({\n      where: {\n        userId: user.id,\n      },\n      update: {\n        content,\n      },\n      create: {\n        userId: user.id,\n        content,\n      },\n    });\n\n    revalidatePath(\"/resume\");\n    return resume;\n  } catch (error) {\n    console.error(\"Error saving resume:\", error);\n    throw new Error(\"Failed to save resume\");\n  }\n}\n\nexport async function getResume() {\n  const { userId } = await auth();\n  if (!userId) throw new Error(\"Unauthorized\");\n\n  const user = await db.user.findUnique({\n    where: { clerkUserId: userId },\n  });\n\n  if (!user) throw new Error(\"User not found\");\n\n  return await db.resume.findUnique({\n    where: {\n      userId: user.id,\n    },\n  });\n}\n\nexport async function improveWithAI({ current, type }) {\n  const { userId } = await auth();\n  if (!userId) throw new Error(\"Unauthorized\");\n\n  const user = await db.user.findUnique({\n    where: { clerkUserId: userId },\n    include: {\n      industryInsight: true,\n    },\n  });\n\n  if (!user) throw new Error(\"User not found\");\n\n  const prompt = `\n    As an expert resume writer, improve the following ${type} description for a ${user.industry} professional.\n    Make it more impactful, quantifiable, and aligned with industry standards.\n    Current content: \"${current}\"\n\n    Requirements:\n    1. Use action verbs\n    2. Include metrics and results where possible\n    3. Highlight relevant technical skills\n    4. Keep it concise but detailed\n    5. Focus on achievements over responsibilities\n    6. Use industry-specific keywords\n    \n    Format the response as a single paragraph without any additional text or explanations.\n  `;\n\n  try {\n    const result = await model.generateContent(prompt);\n    const response = result.response;\n    const improvedContent = response.text().trim();\n    return improvedContent;\n  } catch (error) {\n    console.error(\"Error improving content:\", error);\n    throw new Error(\"Failed to improve content\");\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;;AAEA;AACA;AACA;AAEA;;;;;;;;AACA,MAAM,QAAQ,IAAI,0KAAW,CAAC;IAAE,QAAQ,QAAQ,GAAG,CAAC,cAAc;AAAC;AAE5D,eAAe,WAAW,OAAO;IACtC,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,IAAA,2LAAI;IAC7B,IAAI,CAAC,QAAQ,MAAM,IAAI,MAAM;IAE7B,MAAM,OAAO,MAAM,mHAAE,CAAC,IAAI,CAAC,UAAU,CAAC;QACpC,OAAO;YAAE,aAAa;QAAO;IAC/B;IAEA,IAAI,CAAC,MAAM,MAAM,IAAI,MAAM;IAE3B,IAAI;QACF,MAAM,SAAS,MAAM,MAAM,MAAM,CAAC,eAAe,CAAC;YAChD,OAAO;YACP,UAAU;QACZ;QACA,MAAM,SAAS,MAAM,mHAAE,CAAC,MAAM,CAAC,MAAM,CAAC;YACpC,OAAO;gBACL,QAAQ,KAAK,EAAE;YACjB;YACA,QAAQ;gBACN;YACF;YACA,QAAQ;gBACN,QAAQ,KAAK,EAAE;gBACf;YACF;QACF;QAEA,IAAA,+IAAc,EAAC;QACf,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB;QACtC,MAAM,IAAI,MAAM;IAClB;AACF;AAEO,eAAe;IACpB,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,IAAA,2LAAI;IAC7B,IAAI,CAAC,QAAQ,MAAM,IAAI,MAAM;IAE7B,MAAM,OAAO,MAAM,mHAAE,CAAC,IAAI,CAAC,UAAU,CAAC;QACpC,OAAO;YAAE,aAAa;QAAO;IAC/B;IAEA,IAAI,CAAC,MAAM,MAAM,IAAI,MAAM;IAE3B,OAAO,MAAM,mHAAE,CAAC,MAAM,CAAC,UAAU,CAAC;QAChC,OAAO;YACL,QAAQ,KAAK,EAAE;QACjB;IACF;AACF;AAEO,eAAe,cAAc,EAAE,OAAO,EAAE,IAAI,EAAE;IACnD,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,IAAA,2LAAI;IAC7B,IAAI,CAAC,QAAQ,MAAM,IAAI,MAAM;IAE7B,MAAM,OAAO,MAAM,mHAAE,CAAC,IAAI,CAAC,UAAU,CAAC;QACpC,OAAO;YAAE,aAAa;QAAO;QAC7B,SAAS;YACP,iBAAiB;QACnB;IACF;IAEA,IAAI,CAAC,MAAM,MAAM,IAAI,MAAM;IAE3B,MAAM,UAAS,CAAC;sDACoC,EAAE,KAAK,mBAAmB,EAAE,KAAK,QAAQ,CAAC;;sBAE1E,EAAE,QAAQ;;;;;;;;;;;EAW9B,CAAC;IAED,IAAI;QACF,MAAM,SAAS,MAAM,MAAM,eAAe,CAAC;QAC3C,MAAM,WAAW,OAAO,QAAQ;QAChC,MAAM,kBAAkB,SAAS,IAAI,GAAG,IAAI;QAC5C,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,MAAM,IAAI,MAAM;IAClB;AACF;;;IA3FsB;IAoCA;IAiBA;;AArDA,+OAAA;AAoCA,+OAAA;AAiBA,+OAAA","debugId":null}},
    {"offset": {"line": 274, "column": 0}, "map": {"version":3,"sources":["file:///Users/harshitgangwar/Desktop/SkillForge/app/%28main%29/resume/_components/resume-builder.jsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/(main)/resume/_components/resume-builder.jsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/(main)/resume/_components/resume-builder.jsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAoT,GACjV,kFACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 288, "column": 0}, "map": {"version":3,"sources":["file:///Users/harshitgangwar/Desktop/SkillForge/app/%28main%29/resume/_components/resume-builder.jsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/(main)/resume/_components/resume-builder.jsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/(main)/resume/_components/resume-builder.jsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAgS,GAC7T,8DACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 302, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 310, "column": 0}, "map": {"version":3,"sources":["file:///Users/harshitgangwar/Desktop/SkillForge/app/%28main%29/resume/page.jsx"],"sourcesContent":["import { getResume } from \"@/actions/resume\";\nimport ResumeBuilder from \"./_components/resume-builder\";\n\nexport default async function ResumePage() {\n  const resume = await getResume();\n\n  return (\n    <div className=\"container mx-auto py-6\">\n      <ResumeBuilder initialContent={resume?.content} />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEe,eAAe;IAC5B,MAAM,SAAS,MAAM,IAAA,8HAAS;IAE9B,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC,yKAAa;YAAC,gBAAgB,QAAQ;;;;;;;;;;;AAG7C","debugId":null}}]
}